{% load staticfiles %}
<!DOCTYPE html>
<html lang="zh-hans">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>{% block title %}{% endblock %}</title>
    <link href="{% static 'question/css/head.css' %}" rel="stylesheet">
    <link rel="stylesheet" href="{% static '/css/bootstrap.min.css' %}">

    <script src="{% static 'js/jquery-3.3.1.min.js' %}"></script>
    <script src="{% static 'js/popper.min.js' %}"></script>
    <script src="{% static 'js/bootstrap.min.js' %}"></script>

    <script src="{% static 'question/js/login.js' %}"></script>

    <link rel="shortcut icon" type="image/png"
          href="{% static 'favicon.png' %}"/>
    {% block head-content %}{% endblock %}
</head>
<body>
<div class="container">
    <header class="clearfix">
        <nav class="navbar navbar-light navbar-expand-lg bg-light rounded-bottom shadow-sm">
            <a class="navbar-brand" href="{% url 'index' %}"
               style="color: #ff5a00;">信息技术练习</a>
            <button class="navbar-toggler" type="button" data-toggle="collapse"
                    data-target="#navbar-content"
                    aria-controls="navbar-content" aria-expanded="false">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbar-content">
                <ul class="navbar-nav mr-auto">
                    <li class="nav-item">
                        <a class="nav-link font-weight-light" href="{% url 'index' %}">顺序练习</a>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle font-weight-light" href="."
                           id="subject-menu" data-toggle="dropdown"
                           aria-haspopup="true" aria-expanded="false">专题练习</a>
                        <div class="dropdown-menu"
                             aria-labelledby="subject-menu">
                            <a class="dropdown-item" id="subject-a"
                               href="{% url 'subject' 'J' 1 %}">数据结构</a>
                            <a class="dropdown-item" id="subject-a"
                               href="{% url 'subject' 'K' 1 %}">数据库原理</a>
                            <a class="dropdown-item" id="subject-a"
                               href="{% url 'subject' 'W' 1 %}">网络</a>
                            <a class="dropdown-item" id="subject-a"
                               href="{% url 'subject' 'R' 1 %}">软件工程</a>
                            <a class="dropdown-item" id="subject-a"
                               href="{% url 'subject' 'Z' 1 %}">操作系统</a>
                            <a class="dropdown-item" id="subject-a"
                               href="{% url 'subject' 'C' 1 %}">应用基础</a>
                            <a class="dropdown-item" id="subject-a"
                               href="{% url 'subject' 'D' 1 %}">多媒体技术</a>
                            <a class="dropdown-item" id="subject-a"
                               href="{% url 'subject' 'Y' 1 %}">硬件</a>
                            <a class="dropdown-item" id="subject-a"
                               href="{% url 'subject' 'H' 1 %}">移动互联应用</a>
                            <a class="dropdown-item" id="subject-a"
                               href="{% url 'subject' 'L' 1 %}">离散数学</a>
                            <a class="dropdown-item" id="subject-a"
                               href="{% url 'subject' 'S' 1 %}">数据表示和计算</a>
                            <a class="dropdown-item" id="subject-a"
                               href="{% url 'subject' 'Q' 1 %}">软件知识产权</a>
                            <a class="dropdown-item" id="subject-a"
                               href="{% url 'subject' '1' 1 %}">C语言</a>
                            <a class="dropdown-item" id="subject-a"
                               href="{% url 'subject' '2' 1 %}">C++</a>
                            <a class="dropdown-item" id="subject-a"
                               href="{% url 'subject' '3' 1 %}">Java</a>
                            <a class="dropdown-item" id="subject-a"
                               href="{% url 'subject' '4' 1 %}">VB</a>
                            <a class="dropdown-item" id="subject-a"
                               href="{% url 'subject' '5' 1 %}">VFP</a>
                            <a class="dropdown-item" id="subject-a"
                               href="{% url 'subject' '6' 1 %}">C#</a>
                        </div>
                    </li>
                </ul>
                <ul class="navbar-nav">
                    {% if user %}
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle font-weight-light" href="."
                               id="user-info-drop" data-toggle="dropdown"
                               aria-haspopup="true"
                               aria-expanded="false">{{ user }}</a>
                            <div class="dropdown-menu dropdown-menu-right"
                                 aria-labelledby="user-info-drop">
                                <a class="dropdown-item user-info-drop-item" href="{% url 'space' %}">个人中心</a>
                                <a class="dropdown-item user-info-drop-item" href="{% url 'rank' %}">排名</a>
                                <a class="dropdown-item user-info-drop-item" href=".">修改密码</a>
                                <a class="dropdown-item text-danger user-info-drop-item" id="logout" style="cursor: pointer;">注销</a>
                            </div>
                        </li>
                    {% else %}
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle font-weight-light" href="."
                               id="login-drop" data-toggle="dropdown"
                               aria-haspopup="true"
                               aria-expanded="false">登录</a>
                            <div class="dropdown-menu dropdown-menu-right"
                                 aria-labelledby="login-drop">
                                <form class="px-4 py-3">
                                    <div class="form-group">
                                        <input type="text" class="form-control"
                                               id="username"
                                               placeholder="Username">
                                    </div>
                                    <div class="form-group">
                                        <input type="password"
                                               class="form-control"
                                               id="password"
                                               placeholder="Password">
                                    </div>
                                    <div class="error-msg">
                                        <p id="error-msg-text" class="text-danger"></p>
                                    </div>
                                    <button type="button" class="btn"
                                            id="login-btn">登录
                                    </button>
                                    <div class="dropdown-divider"></div>
                                    <a class="account-op" href="." style="float: left;">注册</a>
                                    <a class="account-op" href="." style="float: right;">忘记密码？</a>
                                </form>
                            </div>
                        </li>
                    {% endif %}

                </ul>
            </div>
        </nav>
    </header>
</div>
<div class="container" id="main-content">{% block content_main %}{% endblock %}</div>

<script>
    $.ajaxSetup({data: {csrfmiddlewaretoken: '{{ csrf_token }}'},});
    let login_ajax_parms = {
        'login_ajax_url': "{% url 'ajax_login' %}",
        'logout_ajax_url': "{% url 'ajax_logout' %}",
        'location_url': window.location.href,
        'index_url': "{% url 'index' %}",
    };
</script>
</body>
</html>